# ===================================================================
# SRE Agent Local Development Environment Variables
# Copy to .env and customize as needed
# ===================================================================

# Authentication (Required)
# Generate a secure secret: openssl rand -hex 32
AUTH_SESSION_SECRET=dev-secret-change-me-in-production-must-be-64-chars-minimum
ADMIN_INITIAL_USERNAME=admin
ADMIN_INITIAL_PASSWORD=admin123

# Database (Auto-configured by docker-compose)
MEMORY_ENABLED=true
DB_AUTO_MIGRATE=true
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=tarka
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres

# NATS JetStream (Auto-configured by docker-compose)
NATS_URL=nats://127.0.0.1:4222

# Monitoring Services (Mock endpoints, or override with port-forwarded services)
# Uncomment to use mock services (started by docker-compose)
PROMETHEUS_URL=http://127.0.0.1:18481/select/0/prometheus
ALERTMANAGER_URL=http://127.0.0.1:19093
LOGS_URL=http://127.0.0.1:19471

# To use real services, comment out above and port-forward:
# kubectl port-forward svc/prometheus 9090:9090
# kubectl port-forward svc/alertmanager 9093:9093
# kubectl port-forward svc/victorialogs 9428:9428
# Then set:
# PROMETHEUS_URL=http://localhost:9090/api/v1
# ALERTMANAGER_URL=http://localhost:9093
# LOGS_URL=http://localhost:9428

# Optional: OIDC for testing SSO (leave commented for local-only auth)
# OIDC_DISCOVERY_URL=https://accounts.google.com/.well-known/openid-configuration
# OIDC_CLIENT_ID=your-client-id
# OIDC_CLIENT_SECRET=your-client-secret
# AUTH_PUBLIC_BASE_URL=http://localhost:8080

# LLM (Optional)
LLM_ENABLED=false
LLM_MOCK=true

# Storage for investigation reports
# For local dev: leave S3_BUCKET unset to use local filesystem storage
# For production: set S3_BUCKET to use S3
# S3_BUCKET=sre-agent-reports
# S3_REGION=us-west-2
# AWS_ACCESS_KEY_ID=your-key
# AWS_SECRET_ACCESS_KEY=your-secret

# Local storage (used if S3_BUCKET is not set)
LOCAL_STORAGE_DIR=./investigations

# Optional: LangSmith tracing for debugging
# LANGCHAIN_TRACING_V2=true
# LANGCHAIN_API_KEY=your-langsmith-key
# LANGCHAIN_PROJECT=sre-agent-dev

# Chat enabled as a preview. Set LLM env vars found in k8s/configmap.yaml to enable real time chat
CHAT_ENABLED="true"
